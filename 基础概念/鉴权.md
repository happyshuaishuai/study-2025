## 鉴权
HTTP 协议是无状态的。
客户端每次想要与服务端通信，都必须重新与服务端链接。
意味着请求一次客户端和服务端就连接一次，下一次请求与上一次请求是没有关系的。

如何判断两次请求的是同一个人？
需要一种方式知道发起请求的客户端是谁？

1. cookie+session

cookie+session使用流程？
###  1. 客户端发送请求到服务端（比如登录请求）。
###  2. 服务端收到请求后生成一个 session 会话。
###  3. 服务端响应客户端，并在响应头中设置 Set-Cookie。Set-Cookie 里面包含了 sessionId，它的格式如下：Set-Cookie: value[; expires=date][; domain=domain][; path=path][; secure]。其中 sessionId 就是用来标识客户端的，类似于去饭店里面，服务员给你一个号牌，后续上菜通过这个号牌来判断上菜到哪里。
###  4. 客户端收到该请求后，如果服务器给了 Set-Cookie，那么下次浏览器就会在请求头中自动携带 cookie。
###  5. 客户端发送其它请求，自动携带了 cookie，cookie 中携带有用户信息等。
###  6. 服务端接收到请求，验证 cookie 信息，比如通过 sessionId 来判断是否存在会话，存在则正常响应。

cookie 和 session，它们两者之间主要是通过 sessionId 关联起来的。


2. Token
Token 是一种在客户端和服务端之间传递身份信息的方式。
当用户登录成功后，服务端会生成一个 Token，将其发送给客户端。
客户端在后续的请求中，需要将 Token 携带在请求头或请求参数中。
服务端通过验证 Token 的合法性，就可以确定该请求来自哪个用户，并且可以根据用户的权限进行相应的操作。
Token 可以有效地避免了 Cookie 的一些安全问题，比如 CSRF 攻击。

### 1. token的组成
#### 1. 标头（Header）：包含了算法和类型，用于指定如何对有效载荷进行编码和签名。常用的算法有HMAC、RSA、SHA等。
#### 2. 有效载荷（Payload）：包含了一些信息，如用户ID、角色、权限等，用于验证身份和授权。有效载荷可以是加密的，也可以是明文的。
#### 3. 签名（Signature）：是对标头和有效载荷进行签名后得到的值，用于验证token的完整性和真实性。签名通常使用私钥进行签名，并使用公钥进行验证。


使用token现在有了redis缓存中间件，不必频查数据库,查询一次后缓存使用